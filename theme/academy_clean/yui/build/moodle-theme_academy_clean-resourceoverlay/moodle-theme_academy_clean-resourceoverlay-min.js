YUI.add("moodle-theme_academy_clean-resourceoverlay",function(e,t){var n="Academy theme resource overlay",r="width",i="height",s="menubar",o="location",u="scrollbars",a="resizable",f="toolbar",l="status",c="directories",h="fullscreen",p="dependent",d;d=function(){d.superclass.constructor.apply(this,arguments)},e.extend(d,e.Base,{overlay:null,initializer:function(){var t=this,n=e.all(".activity.resource .activityinstance a");n.append(" ResourceNodeFound");var r=n.getAttribute("onclick");n.removeAttribute("onclick"),e.delegate("click",function(n){n.preventDefault(),o=this.getAttribute("href")+"&redirect=1";var r="",i=e.Node.create('<iframe src="'+o+'"></iframe>'),s=new e.Overlay({headerContent:r,bodyContent:i,lightbox:!0,width:"540px",centered:!0,draggable:!1,zindex:100,lightbox:!0,shim:!0,closeButtonTitle:this.get("closeButtonTitle"),plugins:[e.Plugin.OverlayModal,e.Plugin.OverlayKeepaligned,{fn:e.Plugin.OverlayAutohide,cfg:{focusedOutside:!1}}]}),o,u;t.overlay=s,s.render(e.one(document.body))},e.one(document.body),".activity.resource .activityinstance a")},display_callback:function(t){var n,r,i;try{n=e.JSON.parse(t);if(n.success){this.overlay.hide();for(r in n.entries)definition=n.entries[r].definition+n.entries[r].attachments,i=new M.core.alert({title:n.entries[r].concept,message:definition,lightbox:!1}),e.Node.one("#id_yuialertconfirm-"+i.COUNT).focus();return!0}n.error&&new M.core.ajaxException(n)}catch(s){new M.core.exception(s)}return!1}},{NAME:n,ATTRS:{url:{validator:e.Lang.isString,value:M.cfg.wwwroot+"/mod/glossary/showentry.php"},name:{validator:e.Lang.isString,value:"glossaryconcept"},options:{getter:function(){return{width:this.get(r),height:this.get(i),menubar:this.get(s),location:this.get(o),scrollbars:this.get(u),resizable:this.get(a),toolbar:this.get(f),status:this.get(l),directories:this.get(c),fullscreen:this.get(h),dependent:this.get(p)}},readOnly:!0},width:{value:600},height:{value:450},menubar:{value:!1},location:{value:!1},scrollbars:{value:!0},resizable:{value:!0},toolbar:{value:!0},status:{value:!0},directories:{value:!1},fullscreen:{value:!1},dependent:{value:!0}}}),M.theme_academy_clean=M.theme_academy_clean||{},M.theme_academy_clean.resourceoverlay={init:function(e){return new d(e)}}},"@VERSION@",{requires:["base","node","io-base","json-parse","event-delegate","panel","moodle-core-notification"]});
